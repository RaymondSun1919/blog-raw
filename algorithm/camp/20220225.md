---

title: 20220225 - camp - dianhsu.top
---
@import "/mystyle.less"

## 20220225 - camp {ignore=True}

> 返回:house:[首页](../../index.html)，:rocket:[算法](../index.html)，:tent:[Camp](./index.html)

---
[TOC]

### ICPC Nanjing 2021 H, Crystalfly
> [https://codeforces.com/gym/103470/problem/H](https://codeforces.com/gym/103470/problem/H)

### ICPC SEERC 2021 C, Werewolves
> [https://codeforces.com/gym/103438/problem/C](https://codeforces.com/gym/103438/problem/C)

### Codeforces Global Round 19 F, Towers
> [https://codeforces.com/problemset/problem/1637/F](https://codeforces.com/problemset/problem/1637/F)

```cpp
// Generated by powerful Codeforces Tool
// You can download the binary file in here https://github.com/dianhsu/cf-tool/releases/ (Windows, macOS(x86, arm64), Linux)
// Author: xdO_o
// Time: 2022-02-26 11:57:58
//
 
#include <bits/stdc++.h>
 
using namespace std;
 
typedef long long ll;
typedef unsigned long long ull;
typedef pair<int, int> PII;
typedef pair<ll, ll> PLL;
#define itr(...) begin(__VA_ARGS__), end(__VA_ARGS__)
#define fastIO() ios::sync_with_stdio(false),cin.tie(nullptr),cout.tie(nullptr)
#define debug(x...) do { cout << "\033[32;1m" << #x <<" -> "; rd_debug(x); } while (0)
void rd_debug() { cout << "\033[39;0m" << endl; }
template<class T, class... Ts> void rd_debug(const T& arg,const Ts&... args) { cout << arg << " "; rd_debug(args...); }
#define pb push_back
#define PF(x) ((x) * (x))
#define LF(x) ((x) * PF(x))
#define fu(i, mm, MM) for(int (i) = (mm); (i) <= (MM); ++(i))
#define fd(i, MM, mm) for(int (i) = (MM); (i) >= (mm); --(i))
#define eps 1e-6
 
template<typename T = int>
inline T fRead() {
    T x = 0, w = 1; char c = getchar();
    while (c < '0' || c>'9') { if (c == '-') w = -1; c = getchar(); }
    while (c <= '9' && c >= '0') { x = (x << 1) + (x << 3) + c - '0'; c = getchar(); }
    return w == 1 ? x : -x;
}
template<typename T = int>
inline T cRead() {
    T ret;
    cin >> ret;
    return ret;
}
 
template<class T>
class Y {
    T f;
public:
    template<class U>
    explicit Y(U&& f) : f(forward<U>(f)) {}
    template<class... Args>
    decltype(auto) operator()(Args&&... args) {
        return f(ref(*this), forward<Args>(args)...);
    }
};
template<class T> Y(T)->Y<T>;
 
const int MOD = 1e9 + 7;
const int inf = 0x3f3f3f3f;
const ll infl = 0x3f3f3f3f3f3f3f3fll;
 
int main() {
    fastIO();
    int n;
    cin >> n;
    vector<int> arr(n + 1, 0);
    for(int i = 1; i <= n; ++i){
        cin >> arr[i];
    }
    vector g(n + 1, vector<int>{});
    for(int i = 1; i < n; ++i){
        int x, y;
        cin >> x >> y;
        g[x].push_back(y);
        g[y].push_back(x);
    }
    int rt = 1;
    for(int i = 1; i <= n; ++i){
        if(arr[i] > arr[rt]){
            rt = i;
        }
    }
    ll ans = 0;
    Y(
        [&](auto&& dfm, int cur, int pre) -> int {
            int mx1 = 0, mx2 = 0;
            for(auto& nex: g[cur]){
                if(nex != pre){
                    int curv = dfm(nex, cur);
                    if(curv > mx1) swap(curv, mx1);
                    if(curv > mx2) swap(curv, mx2);
                }
            }
            if(pre){
                int delta = max(0, arr[cur] - mx1);
                ans += delta;
                mx1 += delta;
            }else{
                ans += max(0, arr[cur] - mx1) + max(0, arr[cur] - mx2);
            }
            return mx1;
        }
    )(rt, 0);
    cout << ans << endl;
    return 0;
}

```

### ICPC Kunming 2020 C, Cities
> [https://ac.nowcoder.com/acm/contest/12548/C](https://ac.nowcoder.com/acm/contest/12548/C)

### ICPC CERC 2014 L, Outer Space Invaders
> [https://www.luogu.com.cn/problem/P4766](https://www.luogu.com.cn/problem/P4766)
> [https://codeforces.com/gym/100543](https://codeforces.com/gym/100543)

```cpp
// Generated by powerful Codeforces Tool
// You can download the binary file in here https://github.com/dianhsu/cf-tool/releases/ (Windows, macOS(x86, arm64), Linux)
// Author: xdO_o
// Time: 2022-02-25 23:41:20
//

#include <bits/stdc++.h>

using namespace std;

typedef long long ll;
typedef unsigned long long ull;
typedef pair<int, int> PII;
typedef pair<ll, ll> PLL;
#define itr(...) begin(__VA_ARGS__), end(__VA_ARGS__)
#define fastIO() ios::sync_with_stdio(false),cin.tie(nullptr),cout.tie(nullptr)
#define debug(x...) do { cout << "\033[32;1m" << #x <<" -> "; rd_debug(x); } while (0)
void rd_debug() { cout << "\033[39;0m" << endl; }
template<class T, class... Ts> void rd_debug(const T& arg,const Ts&... args) { cout << arg << " "; rd_debug(args...); }
#define pb push_back
#define PF(x) ((x) * (x))
#define LF(x) ((x) * PF(x))
#define fu(i, mm, MM) for(int (i) = (mm); (i) <= (MM); ++(i))
#define fd(i, MM, mm) for(int (i) = (MM); (i) >= (mm); --(i))
#define eps 1e-6

template<typename T = int>
inline T fRead() {
    T x = 0, w = 1; char c = getchar();
    while (c < '0' || c>'9') { if (c == '-') w = -1; c = getchar(); }
    while (c <= '9' && c >= '0') { x = (x << 1) + (x << 3) + c - '0'; c = getchar(); }
    return w == 1 ? x : -x;
}
template<typename T = int>
inline T cRead() {
    T ret;
    cin >> ret;
    return ret;
}

template<class T>
class Y {
    T f;
public:
    template<class U>
    explicit Y(U&& f) : f(forward<U>(f)) {}
    template<class... Args>
    decltype(auto) operator()(Args&&... args) {
        return f(ref(*this), forward<Args>(args)...);
    }
};
template<class T> Y(T)->Y<T>;

const int MOD = 1e9 + 7;
const int inf = 0x3f3f3f3f;
const ll infl = 0x3f3f3f3f3f3f3f3fll;
struct Node{
    int l, r, v;
};
int main() {
    fastIO();
    vector<int> red(10010, inf);
    int t;
    cin >> t;
    while(t--){
        int n;
        cin >> n;
        set<int> st;
        vector<Node> vec(n);
        for(auto& it: vec) {
            cin >> it.l >> it.r >> it.v;
            st.insert(it.l);
            st.insert(it.r);
        }
        int sz = 0;
        for(auto& it: st){
            red[it] = sz++;
        }
        for(auto& it: vec){
            it.l = red[it.l];
            it.r = red[it.r];
        }
        vector dp(sz, vector<int>(sz, 0));
        for(int i = 0; i < sz; ++i){
            for(int j = 0; j + i < sz; ++j){
                // dp[j][j + i];
                int tval = 0;
                Node tnode;
                for(auto& it: vec){
                    if(it.l >= j and it.r <= j + i and it.v > tval){
                        tval = it.v;
                        tnode = it;
                    }
                }
                if(tval == 0){
                    dp[j][j + i] = 0;
                    continue;
                }
                int tv2 = inf;
                for(int k = tnode.l; k <= tnode.r; ++k){
                    int tmp = 0;
                    if(k != j){
                        tmp += dp[j][k - 1];
                    }
                    if(k != j + i){
                        tmp += dp[k + 1][j + i];
                    }
                    tv2 = min(tv2, tmp);
                }
                dp[j][j + i] = tval + tv2;
            }
        }
        cout << dp[0][sz - 1] << endl;
    }
    return 0;
}
```